{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b71efc352b31116163a2","webpack:///v-check.js","webpack:///./src/v-check.js"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","_this","getProperties","reduce","xs","x","getFormStatus","a","values","every","v","formItemValidate","getForm","key","filter","item","elIndex","getIndex","f","index","some","k","undefined","testArr","splice","debounce","fn","wait","immediate","timer","args","context","apply","clearTimeout","setTimeout","validator","install","Vue","options","element","currentIndex","formStatus","formItemStatus","checkItemComponentUpdatedCallback","el","binding","ruleArr","ruleValue","formItemName","ruleResult","formItem","formItemResult","ruleItem","rule","test","message","formValidate","handleCheckItemComponentUpdated","directive","bind","onfocus","componentUpdated","push","update","unbind","$formStatus","$getForm","$getFormItemMessage"],"mappings":"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","file":"v-check.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vuecheck\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vuecheck\"] = factory();\n\telse\n\t\troot[\"vuecheck\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b71efc352b31116163a2","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vuecheck\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vuecheck\"] = factory();\n\telse\n\t\troot[\"vuecheck\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar _this = this;\n\nvar getProperties = function getProperties(p, o) {\n  return p.reduce(function (xs, x) {\n    return xs && (xs[x] || xs[x] === 0) ? xs[x] : '';\n  }, o);\n};\nvar getFormStatus = function getFormStatus(a) {\n  return Object.values(a).every(function (v) {\n    return v.formItemValidate;\n  });\n};\nvar getForm = function getForm(a, key) {\n  return a.filter(function (item) {\n    return item.elIndex === key;\n  })[0];\n};\nvar getIndex = function getIndex(f, key) {\n  var index = void 0;\n  f.some(function (item, k) {\n    if (item === key) {\n      index = k;\n      return true;\n    }\n  });\n  index !== undefined && _this.testArr.splice(index, 1);\n};\nvar debounce = function debounce(fn, wait, immediate) {\n  var timer = null;\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    if (immediate && !timer) {\n      fn.apply(context, args);\n    }\n    if (timer) clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(context, args);\n    }, wait);\n  };\n};\nvar validator = {\n  install: function install(Vue, options) {\n    var element = void 0;\n    var currentIndex = void 0;\n    var formStatus = [];\n    var formItemStatus = {};\n    var checkItemComponentUpdatedCallback = function checkItemComponentUpdatedCallback(el, binding) {\n      var ruleArr = getProperties(['value', 'validate'], binding);\n      var ruleValue = getProperties(['value', 'value'], binding);\n      var formItemName = getProperties(['value', 'name'], binding);\n      var ruleResult = void 0;\n      var formItem = getForm(formStatus, currentIndex).formItemStatus[formItemName];\n      var formItemResult = ruleArr.every(function (ruleItem) {\n        if (!ruleItem.rule.test(ruleValue)) {\n          ruleResult = ruleItem.message;\n          return false;\n        }\n        return true;\n      });\n      formItem.formItemValidate = formItemResult;\n      formItem.message = ruleResult || '';\n      getForm(formStatus, currentIndex).formValidate = getFormStatus(getForm(formStatus, currentIndex).formItemStatus);\n    };\n    var handleCheckItemComponentUpdated = debounce(checkItemComponentUpdatedCallback, 600);\n    Vue.directive('check-item', {\n      bind: function bind(el, binding) {\n        var formItemName = getProperties(['value', 'name'], binding);\n        if (!formItemStatus[formItemName]) {\n          formItemStatus[formItemName] = { formItemValidate: false, message: '' };\n        }\n        el.onfocus = function () {\n          element = el;\n        };\n      },\n      componentUpdated: function componentUpdated(el, binding) {\n        if (el === element) {\n          handleCheckItemComponentUpdated(el, binding);\n        }\n      }\n    });\n    Vue.directive('check-all', {\n      bind: function bind(el, binding) {\n        var elIndex = getProperties(['value'], binding);\n        if (elIndex) {\n          formStatus.push({\n            elIndex: elIndex,\n            formValidate: false,\n            formItemStatus: formItemStatus\n          });\n        } else {\n          formStatus = {\n            formValidate: false,\n            formItemStatus: formItemStatus\n          };\n        }\n        formItemStatus = {};\n      },\n      update: function update(el, binding) {\n        if (element) {\n          currentIndex = getProperties(['value'], binding);\n        }\n      },\n      unbind: function unbind(el, binding) {\n        var elIndex = getProperties(['value'], binding);\n        formStatus.splice(getIndex(formStatus, elIndex), 1);\n      }\n    });\n    Vue.prototype.$formStatus = formStatus;\n    Vue.prototype.$getForm = function (key) {\n      return getForm(formStatus, key);\n    };\n    Vue.prototype.$getFormItemMessage = function (key, name) {\n      var f = getForm(formStatus, key);\n      return getProperties(['formItemStatus', name, 'message'], f);\n    };\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (validator);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// v-check.js","const getProperties = (p, o) => p.reduce((xs, x) => (xs && (xs[x] || xs[x] === 0)) ? xs[x] : '', o)\nconst getFormStatus = a => Object.values(a).every(v => v.formItemValidate)\nconst getForm = (a, key) => a.filter(item => item.elIndex === key)[0]\nconst getIndex = (f, key) => {\n  let index\n  f.some((item, k) => {\n    if (item === key) {\n      index = k\n      return true\n    }\n  })\n  index !== undefined && this.testArr.splice(index, 1)\n}\nconst debounce = (fn, wait, immediate) => {\n  let timer = null\n  return function (...args) {\n    let context = this\n    if (immediate && !timer) {\n      fn.apply(context, args)\n    }\n    if (timer) clearTimeout(timer)\n    timer = setTimeout(() => {\n      fn.apply(context, args)\n    }, wait)\n  }\n}\nconst validator = {\n  install (Vue, options) {\n    let element\n    let currentIndex\n    let formStatus = []\n    let formItemStatus = {}\n    let checkItemComponentUpdatedCallback = (el, binding) => {\n      let ruleArr = getProperties(['value', 'validate'], binding)\n      let ruleValue = getProperties(['value', 'value'], binding)\n      let formItemName = getProperties(['value', 'name'], binding)\n      let ruleResult\n      let formItem = getForm(formStatus, currentIndex).formItemStatus[formItemName]\n      let formItemResult = ruleArr.every(ruleItem => {\n        if (!ruleItem.rule.test(ruleValue)) {\n          ruleResult = ruleItem.message\n          return false\n        }\n        return true\n      })\n      formItem.formItemValidate = formItemResult\n      formItem.message = ruleResult || ''\n      getForm(formStatus, currentIndex).formValidate = getFormStatus(getForm(formStatus, currentIndex).formItemStatus)\n    }\n    let handleCheckItemComponentUpdated = debounce(checkItemComponentUpdatedCallback, 600)\n    Vue.directive('check-item', {\n      bind (el, binding) {\n        let formItemName = getProperties(['value', 'name'], binding)\n        if (!formItemStatus[formItemName]) {\n          formItemStatus[formItemName] = { formItemValidate: false, message: '' }\n        }\n        el.onfocus = () => { element = el }\n      },\n      componentUpdated (el, binding) {\n        if (el === element) {\n          handleCheckItemComponentUpdated(el, binding)\n        }\n      }\n    })\n    Vue.directive('check-all', {\n      bind (el, binding) {\n        let elIndex = getProperties(['value'], binding)\n        if (elIndex) {\n          formStatus.push({\n            elIndex,\n            formValidate: false,\n            formItemStatus\n          })\n        } else {\n          formStatus = {\n            formValidate: false,\n            formItemStatus\n          }\n        }\n        formItemStatus = {}\n      },\n      update (el, binding) {\n        if (element) {\n          currentIndex = getProperties(['value'], binding)\n        }\n      },\n      unbind (el, binding) {\n        let elIndex = getProperties(['value'], binding)\n        formStatus.splice(getIndex(formStatus, elIndex), 1)\n      }\n    })\n    Vue.prototype.$formStatus = formStatus\n    Vue.prototype.$getForm = key => getForm(formStatus, key)\n    Vue.prototype.$getFormItemMessage = (key, name) => {\n      let f = getForm(formStatus, key)\n      return getProperties(['formItemStatus', name, 'message'], f)\n    }\n  }\n}\n\nexport default validator\n\n\n\n// WEBPACK FOOTER //\n// ./src/v-check.js"],"sourceRoot":""}